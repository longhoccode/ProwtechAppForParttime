{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{useParams,Link}from\"react-router-dom\";import api from\"../services/api\";import LoadingMessage from\"../components/LoadingMessage\";import ErrorMessage from\"../components/ErrorMessage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StaffDetailPage(){const{id}=useParams();const[staff,setStaff]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const fetchStaff=useCallback(async()=>{setLoading(true);try{const response=await api.get(\"/staffs/\".concat(id));// URL theo ý bạn\nsetStaff(response.data.data);setError(\"\");}catch(_unused){setError(\"Không thể tải thông tin nhân viên.\");}finally{setLoading(false);}},[id]);useEffect(()=>{fetchStaff();},[fetchStaff]);if(loading)return/*#__PURE__*/_jsx(LoadingMessage,{message:\"\\u0110ang t\\u1EA3i th\\xF4ng tin nh\\xE2n vi\\xEAn...\"});if(error)return/*#__PURE__*/_jsx(ErrorMessage,{message:error});if(!staff)return/*#__PURE__*/_jsx(ErrorMessage,{message:\"Kh\\xF4ng t\\xECm th\\u1EA5y nh\\xE2n vi\\xEAn.\"});const accountDetails=[{label:\"Họ và tên\",value:staff.full_name},{label:\"Ngày sinh\",value:staff.day_of_birth?new Date(staff.day_of_birth).toLocaleDateString(\"vi-VN\"):\"Chưa có\"},{label:\"Số CMND/CCCD\",value:staff.id_number||\"Chưa có\"},{label:\"Ngày cấp CMND\",value:staff.id_issued_date?new Date(staff.id_issued_date).toLocaleDateString(\"vi-VN\"):\"Chưa có\"},{label:\"Mã số thuế\",value:staff.tax_id||\"Chưa có\"},{label:\"Số điện thoại\",value:staff.phone_number||\"Chưa có\"},{label:\"Tài khoản ngân hàng\",value:staff.bank_account||\"Chưa có\"},{label:\"Tên ngân hàng\",value:staff.bank_name||\"Chưa có\"},{label:\"Ngày tạo\",value:staff.created_at?new Date(staff.created_at).toLocaleDateString(\"vi-VN\"):\"Chưa có\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/staffs\",className:\"btn btn-outline btn-sm link\",children:\"\\u2190 Quay l\\u1EA1i danh s\\xE1ch nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar mb-3\",children:staff.full_name?staff.full_name[0]:\"?\"}),/*#__PURE__*/_jsx(\"h3\",{children:staff.full_name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Th\\xF4ng tin t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:accountDetails.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:item.label}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:item.value})]},item.label))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"\\u1EA2nh CMND\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[staff.image_front&&/*#__PURE__*/_jsx(\"img\",{src:staff.image_front,alt:\"CMND m\\u1EB7t tr\\u01B0\\u1EDBc\",className:\"mb-2\"}),staff.image_back&&/*#__PURE__*/_jsx(\"img\",{src:staff.image_back,alt:\"CMND m\\u1EB7t sau\"}),!staff.image_front&&!staff.image_back&&/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 \\u1EA3nh CMND\"})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"detail-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Th\\xF4ng tin b\\u1ED5 sung\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-gray-600\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u b\\u1ED5 sung.\"})})]})})]})]});}export default StaffDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Link","api","LoadingMessage","ErrorMessage","jsx","_jsx","jsxs","_jsxs","StaffDetailPage","id","staff","setStaff","loading","setLoading","error","setError","fetchStaff","response","get","concat","data","_unused","message","accountDetails","label","value","full_name","day_of_birth","Date","toLocaleDateString","id_number","id_issued_date","tax_id","phone_number","bank_account","bank_name","created_at","className","children","to","map","item","image_front","src","alt","image_back"],"sources":["E:/5.FILE LINH TINH/CODESPACE/prowtech-app/frontend-web/src/pages/StaffDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport api from \"../services/api\";\r\nimport LoadingMessage from \"../components/LoadingMessage\";\r\nimport ErrorMessage from \"../components/ErrorMessage\";\r\n\r\nfunction StaffDetailPage() {\r\n  const { id } = useParams();\r\n  const [staff, setStaff] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetchStaff = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(`/staffs/${id}`); // URL theo ý bạn\r\n      setStaff(response.data.data);\r\n      setError(\"\");\r\n    } catch {\r\n      setError(\"Không thể tải thông tin nhân viên.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchStaff();\r\n  }, [fetchStaff]);\r\n\r\n  if (loading) return <LoadingMessage message=\"Đang tải thông tin nhân viên...\" />;\r\n  if (error) return <ErrorMessage message={error} />;\r\n  if (!staff) return <ErrorMessage message=\"Không tìm thấy nhân viên.\" />;\r\n\r\n  const accountDetails = [\r\n    { label: \"Họ và tên\", value: staff.full_name },\r\n    { label: \"Ngày sinh\", value: staff.day_of_birth ? new Date(staff.day_of_birth).toLocaleDateString(\"vi-VN\") : \"Chưa có\" },\r\n    { label: \"Số CMND/CCCD\", value: staff.id_number || \"Chưa có\" },\r\n    { label: \"Ngày cấp CMND\", value: staff.id_issued_date ? new Date(staff.id_issued_date).toLocaleDateString(\"vi-VN\") : \"Chưa có\" },\r\n    { label: \"Mã số thuế\", value: staff.tax_id || \"Chưa có\" },\r\n    { label: \"Số điện thoại\", value: staff.phone_number || \"Chưa có\" },\r\n    { label: \"Tài khoản ngân hàng\", value: staff.bank_account || \"Chưa có\" },\r\n    { label: \"Tên ngân hàng\", value: staff.bank_name || \"Chưa có\" },\r\n    { label: \"Ngày tạo\", value: staff.created_at ? new Date(staff.created_at).toLocaleDateString(\"vi-VN\") : \"Chưa có\" },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/staffs\" className=\"btn btn-outline btn-sm link\">\r\n        &larr; Quay lại danh sách nhân viên\r\n      </Link>\r\n\r\n      <div className=\"detail-page\">\r\n        {/* Sidebar */}\r\n        <div className=\"detail-sidebar\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"avatar mb-3\">{staff.full_name ? staff.full_name[0] : \"?\"}</div>\r\n              <h3>{staff.full_name}</h3>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Thông tin tài khoản</div>\r\n            <div className=\"card-body\">\r\n              {accountDetails.map((item) => (\r\n                <div key={item.label} className=\"detail-row\">\r\n                  <span className=\"detail-label\">{item.label}</span>\r\n                  <span className=\"detail-value\">{item.value}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Ảnh CMND</div>\r\n            <div className=\"card-body\">\r\n              {staff.image_front && <img src={staff.image_front} alt=\"CMND mặt trước\" className=\"mb-2\" />}\r\n              {staff.image_back && <img src={staff.image_back} alt=\"CMND mặt sau\" />}\r\n              {!staff.image_front && !staff.image_back && <p>Chưa có ảnh CMND</p>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <main className=\"detail-main\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Thông tin bổ sung</div>\r\n            <div className=\"card-body text-gray-600\">\r\n              <p>Chưa có dữ liệu bổ sung.</p>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StaffDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}