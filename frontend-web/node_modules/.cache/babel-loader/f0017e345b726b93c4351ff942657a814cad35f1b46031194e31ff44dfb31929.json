{"ast":null,"code":"// src/pages/UserDetailPage.jsx\nimport React,{useState,useEffect,useCallback}from\"react\";import{useParams,Link}from\"react-router-dom\";import api from\"../services/api\";import LoadingMessage from\"../components/LoadingMessage\";import ErrorMessage from\"../components/ErrorMessage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserDetailPage(){const{id}=useParams();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const fetchUser=useCallback(async()=>{setLoading(true);try{const response=await api.get(\"/users/\".concat(id));setUser(response.data.data);setError(\"\");}catch(_unused){setError(\"Không thể tải thông tin người dùng.\");}finally{setLoading(false);}},[id]);useEffect(()=>{fetchUser();},[fetchUser]);if(loading)return/*#__PURE__*/_jsx(LoadingMessage,{text:\"\\u0110ang t\\u1EA3i th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng...\"});if(error)return/*#__PURE__*/_jsx(ErrorMessage,{text:error});if(!user)return/*#__PURE__*/_jsx(ErrorMessage,{text:\"Kh\\xF4ng t\\xECm th\\u1EA5y ng\\u01B0\\u1EDDi d\\xF9ng.\"});const accountDetails=[{label:\"Họ và tên\",value:user.full_name},{label:\"Email\",value:user.email},{label:\"Số điện thoại\",value:user.phone_number||\"Chưa có\"},{label:\"Trạng thái\",value:/*#__PURE__*/_jsx(\"span\",{className:user.is_active?\"badge badge-success\":\"badge badge-error\",children:user.is_active?\"Hoạt động\":\"Ngưng hoạt động\"})},{label:\"Ngày tham gia\",value:new Date(user.created_at).toLocaleDateString(\"vi-VN\")}];return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/campaigns\",className:\"btn btn-outline btn-sm link\",children:\"\\u2190 Quay l\\u1EA1i danh s\\xE1ch chi\\u1EBFn d\\u1ECBch\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar mb-3\",children:user.full_name?user.full_name[0]:\"?\"}),/*#__PURE__*/_jsx(\"h3\",{children:user.full_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:user.role})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Th\\xF4ng tin t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:accountDetails.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:item.label}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:item.value})]},item.label))})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"detail-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Th\\xF4ng tin b\\u1ED5 sung\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-gray-600\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u b\\u1ED5 sung.\"})})]})})]})]});}export default UserDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Link","api","LoadingMessage","ErrorMessage","jsx","_jsx","jsxs","_jsxs","UserDetailPage","id","user","setUser","loading","setLoading","error","setError","fetchUser","response","get","concat","data","_unused","text","accountDetails","label","value","full_name","email","phone_number","className","is_active","children","Date","created_at","toLocaleDateString","to","role","map","item"],"sources":["E:/5.FILE LINH TINH/CODESPACE/prowtech-app/frontend-web/src/pages/UserDetailPage.js"],"sourcesContent":["// src/pages/UserDetailPage.jsx\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport api from \"../services/api\";\r\nimport LoadingMessage from \"../components/LoadingMessage\";\r\nimport ErrorMessage from \"../components/ErrorMessage\";\r\n\r\nfunction UserDetailPage() {\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetchUser = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(`/users/${id}`);\r\n      setUser(response.data.data);\r\n      setError(\"\");\r\n    } catch {\r\n      setError(\"Không thể tải thông tin người dùng.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n  }, [fetchUser]);\r\n\r\n  if (loading) return <LoadingMessage text=\"Đang tải thông tin người dùng...\" />;\r\n  if (error) return <ErrorMessage text={error} />;\r\n  if (!user) return <ErrorMessage text=\"Không tìm thấy người dùng.\" />;\r\n\r\n  const accountDetails = [\r\n    { label: \"Họ và tên\", value: user.full_name },\r\n    { label: \"Email\", value: user.email },\r\n    { label: \"Số điện thoại\", value: user.phone_number || \"Chưa có\" },\r\n    {\r\n      label: \"Trạng thái\",\r\n      value: (\r\n        <span className={user.is_active ? \"badge badge-success\" : \"badge badge-error\"}>\r\n          {user.is_active ? \"Hoạt động\" : \"Ngưng hoạt động\"}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      label: \"Ngày tham gia\",\r\n      value: new Date(user.created_at).toLocaleDateString(\"vi-VN\"),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/campaigns\" className=\"btn btn-outline btn-sm link\">\r\n        &larr; Quay lại danh sách chiến dịch\r\n      </Link>\r\n\r\n      <div className=\"detail-page\">\r\n        {/* Sidebar */}\r\n        <div className=\"detail-sidebar\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"avatar mb-3\">\r\n                {user.full_name ? user.full_name[0] : \"?\"}\r\n              </div>\r\n              <h3>{user.full_name}</h3>\r\n              <p className=\"text-muted\">{user.role}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Thông tin tài khoản</div>\r\n            <div className=\"card-body\">\r\n              {accountDetails.map((item) => (\r\n                <div key={item.label} className=\"detail-row\">\r\n                  <span className=\"detail-label\">{item.label}</span>\r\n                  <span className=\"detail-value\">{item.value}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <main className=\"detail-main\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Thông tin bổ sung</div>\r\n            <div className=\"card-body text-gray-600\">\r\n              <p>Chưa có dữ liệu bổ sung.</p>\r\n              {/* TODO: bảng activity, logs, hoặc chi tiết khác */}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}