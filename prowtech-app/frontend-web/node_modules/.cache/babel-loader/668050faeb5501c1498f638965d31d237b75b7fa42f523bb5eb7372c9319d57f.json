{"ast":null,"code":"// authService.js (ĐÃ CẬP NHẬT)\n\nimport api from './api';\n\n// Gọi API login\nexport const loginService = async credentials => {\n  const response = await api.post('/auth/login', credentials);\n  const {\n    user,\n    token,\n    refreshToken\n  } = response.data;\n\n  // ⚡️ THÊM: Lưu refreshToken vào localStorage\n  localStorage.setItem(\"token\", token);\n  localStorage.setItem(\"refreshToken\", refreshToken);\n  return {\n    user,\n    token\n  }; // Trả về user và access token\n};\n\n// Gọi API logout\nexport const logoutService = async () => {\n  try {\n    // ⚡️ THÊM: Có thể gọi API logout để invalidate refreshToken trên server\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.warn(\"Logout API failed:\", error);\n  } finally {\n    // ⚡️ THÊM: Xóa token và refreshToken khỏi localStorage\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"refreshToken\");\n  }\n};","map":{"version":3,"names":["api","loginService","credentials","response","post","user","token","refreshToken","data","localStorage","setItem","logoutService","error","console","warn","removeItem"],"sources":["E:/5.FILE LINH TINH/CODESPACE/prowtech-app/frontend-web/src/services/authService.js"],"sourcesContent":["// authService.js (ĐÃ CẬP NHẬT)\r\n\r\nimport api from './api';\r\n\r\n// Gọi API login\r\nexport const loginService = async (credentials) => {\r\n  const response = await api.post('/auth/login', credentials);\r\n  const { user, token, refreshToken } = response.data;\r\n  \r\n  // ⚡️ THÊM: Lưu refreshToken vào localStorage\r\n  localStorage.setItem(\"token\", token);\r\n  localStorage.setItem(\"refreshToken\", refreshToken);\r\n\r\n  return { user, token }; // Trả về user và access token\r\n};\r\n\r\n// Gọi API logout\r\nexport const logoutService = async () => {\r\n  try {\r\n    // ⚡️ THÊM: Có thể gọi API logout để invalidate refreshToken trên server\r\n    await api.post('/auth/logout'); \r\n  } catch (error) {\r\n    console.warn(\"Logout API failed:\", error);\r\n  } finally {\r\n    // ⚡️ THÊM: Xóa token và refreshToken khỏi localStorage\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"refreshToken\");\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA;;AAEA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,WAAW,IAAK;EACjD,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,aAAa,EAAEF,WAAW,CAAC;EAC3D,MAAM;IAAEG,IAAI;IAAEC,KAAK;IAAEC;EAAa,CAAC,GAAGJ,QAAQ,CAACK,IAAI;;EAEnD;EACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;EACpCG,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEH,YAAY,CAAC;EAElD,OAAO;IAAEF,IAAI;IAAEC;EAAM,CAAC,CAAC,CAAC;AAC1B,CAAC;;AAED;AACA,OAAO,MAAMK,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACF;IACA,MAAMX,GAAG,CAACI,IAAI,CAAC,cAAc,CAAC;EAChC,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,oBAAoB,EAAEF,KAAK,CAAC;EAC3C,CAAC,SAAS;IACR;IACAH,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChCN,YAAY,CAACM,UAAU,CAAC,cAAc,CAAC;EACzC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}